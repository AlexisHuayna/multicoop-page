query para sacar personal faltante por fecha y agencia

SELECT personal.*
FROM personal
WHERE personal.id NOT IN (
    	SELECT fichaSintomatologica.idPersonal
    	FROM fichaSintomatologica
    	WHERE fichaSintomatologica.fecha = *date* )
	AND personal.idAgencia = *agencia*


***
Personal que lleno la ficha de entrada
***
SELECT personal.*
FROM personal
WHERE personal.id IN (
    	SELECT fichaSintomatologica.idPersonal
    	FROM fichaSintomatologica
    	WHERE fichaSintomatologica.fecha = *date*
		AND fichaSintomatologica.estado = 1)
	AND personal.idAgencia = *agencia*

***
Personal que lleno la ficha de entrada
***
SELECT personal.*, fichaSintomatologica.id
FROM personal
    INNER JOIN fichaSintomatologica
        ON personal.id = fichaSintomatologica.idPersonal
    
WHERE personal.id IN 
    ( 
        SELECT fichaSintomatologica.idPersonal 
        FROM fichaSintomatologica 
        WHERE fichaSintomatologica.fecha = '2020-08-27'
        AND fichaSintomatologica.estado = 1
    )
    AND personal.idAgencia = 1 


query para sacar personal que lleno entrada pero no salida



query para sacar personal que termino sus fichas


http://multicoop.com.pe:8000/api/interno/rh/fichas/faltantesEntrada/${idAgencia}
http://multicoop.com.pe:8000/api/interno/rh/fichas/faltantesSalida/${idAgencia}

